unit SDIMAIN;

interface

uses Winapi.Windows, System.Classes, Vcl.Graphics, Vcl.Forms, Vcl.Controls,
  Vcl.Menus, Vcl.Dialogs, Vcl.StdCtrls, Vcl.Buttons, Vcl.ExtCtrls, Vcl.ComCtrls,
  Vcl.ImgList, Vcl.StdActns, Vcl.ActnList, Vcl.ToolWin, Data.DB, Vcl.Grids,
  Vcl.DBGrids, Vcl.DBCtrls;

type
  TSDIAppForm = class(TForm)
    Panel1: TPanel;
    ComboBox2: TDBComboBox;
    DBNavigator1: TDBNavigator;
    DBGrid1: TDBGrid;
    DBGrid2: TDBGrid;
    DBGrid3: TDBGrid;
    Panel2: TPanel;
    ComboBox1: TComboBox;
    Edit1: TEdit;
    Label1: TLabel;
    procedure FileNew1Execute(Sender: TObject);
    procedure FileExit1Execute(Sender: TObject);
    procedure HelpAbout1Execute(Sender: TObject);
    procedure ComboBox2Change(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  SDIAppForm: TSDIAppForm;

implementation

uses About, Unit1;

{$R *.dfm}

procedure TSDIAppForm.FileNew1Execute(Sender: TObject);
begin
  { Do nothing }
end;

procedure TSDIAppForm.ComboBox2Change(Sender: TObject);
begin
  if ComboBox1.ItemIndex=0 then  // если Item=Футболисты
  begin
    DBGrid1.Visible:=true;
    // отображаем таблицу Футболисты
    DBGrid2.Visible:=false;
    // скрывает таблицу Сборные
    DBGrid3.Visible:=false;
    // скрывает таблицу Клубы
    DBNavigator1.DataSource:=DataModule1.DSfootballer;  //навигатор работает для таблицы футболисты
    Combobox2.Items.Clear; //очищаем поля Combobox2
    Combobox2.Items.Create;//создаем и добавляем новые поля по которым в последствии может быть произведен поиск
    Combobox2.Items.Add('Имя');
    Combobox2.Items.Add('Сборная');
    Combobox2.Items.Add('Клуб');
    Combobox2.ItemIndex:=0;
  end;
  if ComboBox1.ItemIndex=1 then //аналогично для таблицы Сборные
  begin
    DBGrid2.Visible:=true;
    DBGrid1.Visible:=false;
    DBGrid3.Visible:=false;
    DBNavigator1.DataSource:=DataModule1.DSnatteam;
    Combobox2.Items.Clear;
    Combobox2.Items.Create;
    Combobox2.Items.Add('Сборная');
    Combobox2.Items.Add('Место');
    Combobox2.ItemIndex:=0;
  end;
  if ComboBox1.ItemIndex=2 then //аналогично для таблицы Клубы
  begin
    DBGrid3.Visible:=true;
    DBGrid2.Visible:=false;
    DBGrid1.Visible:=false;
    DBNavigator1.DataSource:=DataModule1.DSclub;
    Combobox2.Items.Clear;
    Combobox2.Items.Create;
    Combobox2.Items.Add('Клуб');
    Combobox2.Items.Add('Место');
    Combobox2.ItemIndex:=0;
  end;
end;

procedure TSDIAppForm.FileExit1Execute(Sender: TObject);
begin
  Close;
end;

procedure TSDIAppForm.HelpAbout1Execute(Sender: TObject);
begin
  AboutBox.ShowModal;
end;

end.
